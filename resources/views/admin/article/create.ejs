<div class="row">
    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
        <div class="page-header">
            <h2 class="pageheader-title">افزودن مقاله های جدید به وب سایت</h2>
        </div>
    </div>
</div>

<%- include(viewPath('layouts/error-messages'), { errors }) %>

    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" style="padding-right: 0px;padding-left: 0px;">
        <div class="card">
            <h5 class="card-header">ایجاد مقاله جدید</h5>
            <div class="card-body">
                <form action="/admin/article/" method="post" enctype="multipart/form-data" id="validationform"
                    data-parsley-validate="" novalidate="">
                    <div class="form-group row">
                        <div class="col">
                            <label for="title" class="control-label font-weight-bold">عنوان مقاله</label>
                            <input type="text" class="form-control" name="title" id="title"
                                placeholder="عنوان را وارد کنید">
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col">
                            <label for="body" class="control-label font-weight-bold">متن</label>
                            <textarea rows="5" class="form-control" name="body" id="body"
                                placeholder="متن مقاله را وارد کنید"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="course" class="control-label font-weight-bold font-weight-bold">دسته
                            بندی</label>
                        <% categories.forEach( (category,key)=> { %>
                            <div class="form-check pr-4">
                                <!-- <option value="<%- category._id %>"><%- category.name %></option> -->
                                <input type="checkbox" value="<%- category._id %>" class="form-check-input"
                                    name="categories">
                                <label class="form-check-label px-3"><%- category.name %></label>
                            </div>
                            <% }) %>
                    </div>
                    <div class="form-group row">
                        <div class="col">
                            <label for="image" class="control-label font-weight-bold">تصویر
                                مقاله</label>
                            <input type="file" class="form-control" name="image" id="image"
                                placeholder="تصویر مقاله را وارد کنید">
                        </div>
                    </div>

                    <div class="form-group row text-right">
                        <div class="col col-sm-10 col-lg-9 offset-sm-1 offset-lg-0">
                            <button type="submit" class="btn btn-space btn-primary">ارسال</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.ckeditor.com/ckeditor5/40.0.0/classic/ckeditor.js"></script>
    
    <script>

        ClassicEditor
            .create(document.querySelector('#body'))

        // ClassicEditor
        //     .create(document.querySelector('#body'), {
        //         plugins: [SimpleUploadAdapter],
        //         // toolbar: [ /* ... */],
        //         simpleUpload: {
        //             // The URL that the images are uploaded to.
        //             uploadUrl: '/admin/upload-image',

        //             // Enable the XMLHttpRequest.withCredentials property.
        //             // withCredentials: true,

        //             // // Headers sent along with the XMLHttpRequest to the upload server.
        //             // headers: {
        //             //     'X-CSRF-TOKEN': 'CSRF-Token',
        //             //     Authorization: 'Bearer <JSON Web Token>'
        //             // }
        //         }
        //     })
        //     .catch(error => {
        //         console.error(error);
        //     });

    </script>